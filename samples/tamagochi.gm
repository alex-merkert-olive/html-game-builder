{"setup-code":"game.pet = {\n  x: 0,\n  y: 0,\n  vx: 1,\n  vy: 1,\n  speed: 5,\n  size: 8,\n  happiness: 10,\n  hunger: 0,\n  color: '#0ff',\n};\ngame.food = [];\ngame.poop = [];","click-code":"const { x, y } = event;\n\nconst poop = game.poop.find(p => {\n  const xClose = p.x - 10 < x && p.x + 10 > x;\n  const yClose = p.y - 10 < y && p.y + 10 > y;\n  return xClose && yClose;\n});\n\nif (poop) {\n  const i = game.poop.indexOf(poop);\n  game.poop.splice(i, 1);\n} else {\n  game.food.push({ x, y });\n}","update-code":"const { pet } = game;\n\nif (pet.x >= 750) pet.vx = -1;\nif (pet.x <= 50) pet.vx = 1;\nif (pet.y >= 850) pet.vy = -1;\nif (pet.y <= 50) pet.vy = 1;\n\npet.x += pet.vx * Math.max(0.2, pet.speed - pet.hunger);\npet.y += pet.vy * Math.max(0.2, pet.speed - pet.hunger);\n\nfor(let f = 0; f < game.food.length; f++) {\n  const { x, y } = game.food[f];\n  const reach = pet.size + pet.speed;\n  const xClose = pet.x - reach < x && pet.x + reach > x;\n  const yClose = pet.y - reach < y && pet.y + reach > y;\n  if (xClose && yClose) {\n    game.food.splice(f, 1);\n    f--;\n    pet.size = Math.min(pet.size + 2, 60);\n    pet.hunger = Math.max(pet.hunger - 1, 0);\n  }\n}\n\npet.happiness = 10 - game.poop.length - (pet.size / 20);\nif ((frame + 1) % 300 === 0) {\n  pet.hunger++;\n  game.poop.push({ x: pet.x, y: pet.y });\n}\n\nif (pet.hunger > 5) {\n  pet.size = Math.max(pet.size - 0.001, 2);\n}\n","draw-code":"const { x, y, size, hunger, happiness, color } = game.pet;\n\ngame.food.forEach(f => {\n  context.beginPath();\n  context.fillStyle = '#0b0';\n  context.fillRect(f.x - 5, f.y - 5, 10, 10);\n  context.closePath();\n});\n\ngame.poop.forEach(p => {\n  context.beginPath();\n  context.fillStyle = '#b62';\n  context.moveTo(p.x, p.y - 5);\n  context.lineTo(p.x + 5, p.y + 5);\n  context.lineTo(p.x - 5, p.y + 5);\n  context.lineTo(p.x, p.y - 5);\n  context.fill();\n  context.closePath();\n});\n\ncontext.save();\ncontext.globalAlpha = 1 - (hunger / 9);\ncontext.beginPath();\ncontext.fillStyle = happiness > 5 ? color : '#f00';\ncontext.arc(x, y, size, 0, 6.28);\ncontext.fill();\ncontext.closePath();\ncontext.restore();"}